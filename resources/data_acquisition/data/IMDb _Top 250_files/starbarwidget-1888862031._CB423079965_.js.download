!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("jquery"),f=d(e);!function(a){"_gaq"in window||(window._gaq=[]),a(".rating").on("change.rating",function(b,c){var d=a(this).attr("data-ga-identifier");"your"===c.state&&(window._gaq.push(["_trackEvent","rating","add_from_"+d,c.tconst]),window._gaq.push(function(){window&&"undefined"!=typeof window.consoleLog&&window.consoleLog("rating add from "+d+" "+c.tconst,"gaq")}))})}(f["default"])},{jquery:"jquery"}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("jquery"),f=d(e);f["default"](function(){var a=".rating";f["default"](a).each(function(a){null!=f["default"](this).attr("data-starbar-class")&&f["default"](this).rating({uconst:f["default"](this).attr("data-user"),widgetClass:f["default"](this).attr("data-starbar-class"),ajaxURL:"/ratings/_ajax/title",errorMessage:"Oops! Please try again later."})})})},{jquery:"jquery"}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("jquery"),f=d(e),g=a(5);!function(a){f["default"].widget("ui.rating",{options:{widgetClass:"rating",errorMessage:"Oops! Please try again later.",ajaxURL:"/ratings/_ajax/title"},_create:function(){function b(b){if(!g.isUserLoggedIn()){var d="/registration/signin?u="+encodeURIComponent(window.location);return void(document.location=d)}f(),i.$cancel.removeClass("rating-hover").addClass("rating-pending"),i.pendingRating=b,a.ajax({url:i.options.ajaxURL,type:"POST",dataType:"json",beforeSend:window.addClickstreamHeadersToAjax,data:{tconst:i.tconst,rating:i.pendingRating,auth:i.authKey,tracking_tag:i.trackingTag,pageId:i.pageId,pageType:i.pageType,subpageType:i.subpageType},error:function(){return e()},success:function(b){if(200!=b.status)return e();0==i.pendingRating?(i.originalRating=i.imdbRating,i.state="imdb"):(i.originalRating=i.pendingRating,i.state="your");var d=i.pendingRating;i.pendingRating=void 0,i.$stars.removeClass("rating-hover"),i.$caption.removeClass("rating-hover"),i.$cancel.removeClass("rating-pending"),c(),h(),a(i.element).trigger("change.rating",{state:i.state,rating:d,imdbRating:i.imdbRating,tconst:i.tconst})}})}function c(){i.$stars.removeClass("rating-hover"),i.$caption.removeClass("rating-hover"),i.$cancel.removeClass("rating-hover"),"your"==i.state?(i.$stars.slice(0,i.originalRating).addClass("rating-your"),i.$caption.addClass("rating-your"),i.$cancel.addClass("rating-your"),i.$lowerUserCaption.show()):(i.$stars.removeClass("rating-your"),i.$caption.removeClass("rating-your"),i.$cancel.removeClass("rating-your"),i.$imdb.show(),i.$lowerUserCaption.hide()),d(i.originalRating)}function d(a){a=a?a.toLocaleString(window.navigator.languages||[window.navigator.language||window.navigator.userLanguage]):"-",i.$caption.children(":first").text(a)}function e(){return i.element.addClass("rating-error"),i.element.html('<span class="rating-error-icon">&nbsp;</span><span class="rating-error-text">'+i.options.errorMessage+"</span>"),!1}function f(){i.disabled=!0}function h(){i.disabled=!1}var i=this,j=i.element[0].id,k=j.split("|");i.tconst=k[0],i.state=i.originalState=k[1],i.originalRating=parseFloat(k[2]),i.imdbRating=parseFloat(k[3]),i.trackingTag=k[4]||"",i.pageId=k[5]||"",i.pageType=k[6]||"",i.subpageType=k[7]||"",i.disabled=!1,i.$stars=a(".rating-stars a",i.element),i.$imdb=a(".rating-imdb",i.element),i.$cancel=a(".rating-cancel",i.element),i.$caption=a(".rating-rating",i.element),i.$lowerUserCaption=a(".star-bar-user-rate",i.siblings),i.$stars.removeAttr("href"),a("a",i.$cancel).removeAttr("href"),i.authKey=a(i.element).attr("data-auth"),a(i.element).trigger("ready.rating",{state:i.state,rating:i.originalRating,imdbRating:i.imdbRating,tconst:i.tconst}),i.$stars.on("mouseover.rating",function(){if(i.disabled)return!1;var a=i.$stars.index(this)+1;"your"==i.state?i.$stars.removeClass("rating-your"):i.$imdb.hide(),i.$stars.slice(0,a).addClass("rating-hover"),i.$stars.slice(a+1).removeClass("rating-hover"),i.$caption.addClass("rating-hover"),i.$cancel.addClass("rating-hover"),d(a)}).on("mouseout.rating",function(){return i.disabled?!1:void c()}).on("click.rating",function(){return i.disabled?!1:void b(i.$stars.index(this)+1)}),i.$cancel.on("click.rating",function(){return i.disabled?!1:void b(0)})}});var b={};a.fn.rating_animation=function(){var c=a(this).find("span.userRatingValue");c.on("click",function(b){if(CS.hasAccount()){var c=b.delegateTarget,d=a(c).attr("data-tconst");a(c).fadeTo(100,0),a("div.starBarWidget#sb_"+d).fadeIn(100)}else CS.activate_login_lightbox()}),a(this).find("div.starBarWidget").on("mouseenter",function(a){var c=a.delegateTarget;b[c.id]&&(clearTimeout(b[c.id]),delete b[c.id])}).on("mouseleave",function(c){var d=c.delegateTarget,e=function(){a(d).parent().find("span.userRatingValue").fadeTo(100,1),a(d).fadeOut(),delete b[d.id]};b[d.id]=setTimeout(e,5)}),a(this).find("div.rating").on("change.rating",function(c,d){var e=a("#urv_"+d.tconst+" > span[name=ur]"),f=e.data("no-rating")||"Rate",g=0!==d.rating?d.rating:f;e.data("value",d.rating).text(g).addClass("has-changed"),g===f?(e.addClass("rate"),e.siblings(".global-sprite.rating-star.user-rating").removeClass("user-rating").addClass("no-rating")):(e.removeClass("rate"),e.siblings(".global-sprite.rating-star.no-rating").removeClass("no-rating").addClass("user-rating"));var h=a(c.delegateTarget).parent();a(h).fadeOut(),delete b[h.id]})},a.extend(a.ui.rating,{version:"2.0"})}(f["default"])},{5:5,jquery:"jquery"}],4:[function(a,b,c){"use strict";a(2),a(3),a(1)},{1:1,2:2,3:3}],5:[function(a,b,c){"use strict";function d(a){var b=encodeURIComponent(window.location.pathname+window.location.search),c="https://"+window.location.hostname+"/registration/signin?u="+b+"&ref_="+a;return window.location=c,c}function e(a){return void 0===a&&(a=f.createUserLoginState),c.userLoginState||(c.userLoginState=a()),c.userLoginState.getLoggedInStatus()}Object.defineProperty(c,"__esModule",{value:!0});var f=a(6);c.redirectToLoginPage=d,c.isUserLoggedIn=e,c["default"]=e},{6:6}],6:[function(a,b,c){"use strict";function d(a){return new e(a)}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a){void 0===a&&(a=window.XMLHttpRequest),this.Requester=a,this.requestUrl="/registration/is-user-recognized",this.isLoggedIn=void 0,this.hasTestedLogin=!1}return a.prototype.getLoggedInStatus=function(){if(this.hasTestedLogin)return this.isLoggedIn;var a=new this.Requester;return a.open("GET",this.requestUrl,!1),a.send(),this.isLoggedIn=this.getLoginStateFromResponse(a.response),this.hasTestedLogin=!0,this.isLoggedIn},a.prototype.getLoginStateFromResponse=function(a){return JSON.parse(a).isUserRecognized||!1},a}();c.UserLoginDetection=e,c.createUserLoginState=d},{}]},{},[4]);